import{r as x,j as s,b as g,U as E}from"./index-4e6ccb05.js";import{c as f,a as l,d as S,F}from"./index.esm-4c773de1.js";import{A as y,T as $,L as m,a as p,I as c,E as h,b as n,C as w,O as j,B as C,N as b}from"./LoginForm.styled-a66ad758.js";import{C as v,W as R,B as k,F as q,S as B}from"./Signup.styled-7d1416a9.js";import{B as T}from"./react-toastify.esm-882b350d.js";const U=f().shape({email:l().email("Enter a valid email").matches(/^[^\s@]+@[^\s@]+\.[^\s@]+$/,"Email is not valid").min(6,"Email must be at least 6 characters").max(30,"Email must not exceed 30 characters").trim().required("Email is required").test("valid-domain","Email domain is not valid",function(i){const o=["com","net","ua","uk","org","ca"],t=i.split("@")[1];if(!t)return!1;const r=t.split(".");return r.length===2&&o.includes(r[1])}),password:l().required("Password is required").min(8,"Your password is too short."),repeatPassword:l().oneOf([S("password"),null],"Enter the correct password!").required("Confirm password is reqired!")}),I=({handleSubmit:i})=>{const[o,t]=x.useState(!1),[r,d]=x.useState(!1),u=()=>{t(e=>!e)},P=()=>{d(e=>!e)};return s.jsxs(s.Fragment,{children:[s.jsx(F,{initialValues:{email:"",password:"",repeatPassword:""},validationSchema:U,onSubmit:(e,a)=>{e.password===e.repeatPassword&&(i(e),a.resetForm())},children:({errors:e,touched:a})=>s.jsxs(y,{children:[s.jsx($,{children:"Sign Up"}),s.jsxs(m,{htmlFor:"email",children:[s.jsx(p,{children:"Enter your email"}),s.jsx(c,{name:"email",placeholder:"E-mail",$error:e.email&&a.email}),s.jsx(h,{name:"email",component:"div",$error:e.email&&a.email})]}),s.jsxs(m,{htmlFor:"password",children:[s.jsx(p,{children:"Enter your password"}),s.jsx(c,{$error:e.password&&a.password,type:o?"text":"password",name:"password",placeholder:"Password"}),s.jsx("span",{onClick:u,children:o?s.jsx(n,{children:s.jsx(w,{})}):s.jsx(n,{children:s.jsx(j,{})})}),s.jsx(h,{name:"password",component:"div",$error:e.password&&a.password})]}),s.jsxs(m,{htmlFor:"repeatPassword",children:[s.jsx(p,{children:"Repeat Password"}),s.jsx(c,{$error:e.repeatPassword&&a.repeatPassword,type:r?"text":"password",name:"repeatPassword",placeholder:"Repeat password"}),s.jsx("span",{onClick:P,children:r?s.jsx(n,{children:s.jsx(w,{})}):s.jsx(n,{children:s.jsx(j,{})})}),s.jsx(h,{name:"repeatPassword",component:"div",$error:e.repeatPassword&&a.repeatPassword})]}),s.jsx(C,{type:"submit",children:"Sign Up"})]})}),s.jsx(b,{to:"/login",children:"Sign In"})]})},N=()=>{const i=g(),o=()=>{T.info("This email is already in use. Please check email or log in",{position:"bottom-right",autoClose:3e3,delay:1500})},t=({email:r,password:d})=>{i(E({email:r,password:d})),o()};return s.jsxs(v,{children:[s.jsxs(R,{children:[s.jsx(k,{}),s.jsx(q,{children:s.jsx(I,{handleSubmit:t})})]}),s.jsx(B,{})]})};export{N as default};
